(this.webpackJsonproomreservation=this.webpackJsonproomreservation||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/loading.90e83534.svg"},41:function(e,t,a){e.exports=a(72)},50:function(e,t,a){},51:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),l=a(21),s=(a(50),a(16)),i=(a(51),function(){return r.a.createElement("div",{className:"header"},r.a.createElement("ul",{className:"nav-links"},r.a.createElement(s.b,{className:"nav-link",to:"/rooms"},r.a.createElement("li",null,"Rooms")),r.a.createElement(s.b,{className:"nav-link",to:"/bookings"},r.a.createElement("li",null,"Bookings")),r.a.createElement(s.b,{className:"nav-link",to:"/visitors"},r.a.createElement("li",null,"Visitors"))))}),u=a(15),m=a(8),E=a.n(m),d=a(20),f=a.n(d),b=a(38),p=f.a.create({baseURL:"https://it-blog-posts.herokuapp.com/api/",responseType:"json"}),v=Object(b.a)(p),g={rooms:new v((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.id;return"rooms/".concat(t||"")})),bookings:new v((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.id;return"roomBookings/".concat(t)})),visitors:new v((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.id;return"visitors/".concat(t)})),roomsStatus:new v("rooms/status")},O=function(e){return{type:"CREATE_ROOM_SUCCESS",payload:e}},h=function(e){return{type:"EDIT_ROOM_SUCCESS",payload:e}},R=function(){return function(e){var t;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e({type:"GET_STATUS_REQUEST"}),a.next=4,E.a.awrap(g.roomsStatus.get());case 4:if(200===(t=a.sent).status){a.next=7;break}throw new Error("Can not get status");case 7:e({type:"GET_STATUS_SUCCESS",payload:t.data.status}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),e({type:"GET_STATUS_FAILURE"});case 13:case"end":return a.stop()}}),null,null,[[0,10]])}},S=(a(71),a(13)),y=a.n(S),_=a(14),k=a(2),T={floor:"",beds:"",balcony:!1,roomId:"",bookedAt:""},C=function(e){var t=e.create,a=e.edit,o=e.data,c=e.cancelEdit,l=Object(n.useState)(T),s=Object(u.a)(l,2),i=s[0],m=s[1],E=function(e){var t=e.target,a=t.name,n=t.value;m(Object(k.a)({},i,Object(_.a)({},a,n)))};return r.a.createElement("div",{className:"room-form"},r.a.createElement("h2",null,"Add New Room"),r.a.createElement("label",{htmlFor:"floor"},"Floor"),r.a.createElement("input",{type:"number",id:"floor",onChange:E,value:i.floor,name:"floor"}),r.a.createElement("label",{htmlFor:"beds"},"Beds"),r.a.createElement("input",{type:"number",id:"beds",onChange:E,value:i.beds,name:"beds"}),r.a.createElement("div",{className:"checkboxDiv"},r.a.createElement("label",{htmlFor:"balcony"},"Balcony"),r.a.createElement("input",{onChange:function(e){m(Object(k.a)({},i,{balcony:e.target.checked}))},type:"checkbox"})),r.a.createElement("label",{htmlFor:"roomId"},"Room Number"),r.a.createElement("input",{type:"number",id:"roomId",onChange:E,value:i.roomId,name:"roomId"}),o.editing?r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{className:"create-b",onClick:c},"Cancel"),r.a.createElement("button",{className:"create-b",onClick:function(){return a(i)}},"Save")):r.a.createElement("button",{className:"create-b",onClick:function(){return function(e){var a=e.floor,n=e.beds,r=e.roomId;a&&n&&r&&(t(Object(k.a)({},e,{bookedAt:(new Date).toLocaleDateString("en-GB")})),m(T))}(i)}},"Create"))},w=function(e){var t=e.gettingStatus,a=e.status,n=a.rooms,o=a.booking,c=a.visitors;return r.a.createElement("div",{className:"status-bar"},t?r.a.createElement("img",{src:y.a,width:"40px",alt:"loading"}):[r.a.createElement("div",{key:"r-status"},"Rooms: ".concat(n)),r.a.createElement("div",{key:"b-status"},"Booking: ".concat(o)),r.a.createElement("div",{key:"v-status"},"Visitors: ".concat(c))])};function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var I=r.a.createElement("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"}),U=function(e){var t=e.svgRef,a=e.title,n=N(e,["svgRef","title"]);return r.a.createElement("svg",j({"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"edit",className:"svg-inline--fa fa-edit fa-w-18",role:"img",viewBox:"0 0 576 512",ref:t},n),a?r.a.createElement("title",null,a):null,I)},x=r.a.forwardRef((function(e,t){return r.a.createElement(U,j({svgRef:t},e))}));a.p;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var F=r.a.createElement("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}),L=function(e){var t=e.svgRef,a=e.title,n=A(e,["svgRef","title"]);return r.a.createElement("svg",M({"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"trash-alt",className:"svg-inline--fa fa-trash-alt fa-w-14",role:"img",viewBox:"0 0 448 512",ref:t},n),a?r.a.createElement("title",null,a):null,F)},V=r.a.forwardRef((function(e,t){return r.a.createElement(L,M({svgRef:t},e))})),B=(a.p,function(e){var t=e.rooms,a=e.remove,n=e.update;return r.a.createElement("table",{id:"customers"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#ID"),r.a.createElement("th",null,"Booked"),r.a.createElement("th",null,"Floor"),r.a.createElement("th",null,"Beds"),r.a.createElement("th",null,"Balcony"),r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Edit"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.bookedAt),r.a.createElement("td",null,e.floor),r.a.createElement("td",null,e.beds),r.a.createElement("td",null,e.balcony?"Yes":"No"),r.a.createElement("td",null,e.roomId),r.a.createElement("td",null,r.a.createElement("button",{className:"deledit-b edit-b",onClick:function(){return n({floor:e.floor,beds:e.beds,balcony:e.balcony,roomId:e.roomId})}},r.a.createElement(x,{className:"svg-edit"}))),r.a.createElement("td",null,r.a.createElement("button",{className:"deledit-b del-b",onClick:function(){return a(e.id)}},r.a.createElement("img",{src:"",alt:""}),r.a.createElement(V,{className:"svg-remove"}))))}))))}),G={floor:"",beds:"",balcony:!1,roomId:""},D=Object(l.b)((function(e){var t=e.rooms;return{status:t.status,gettingStatus:t.gettingStatus,rooms:t.rooms,gettingRooms:t.gettingRooms}}),(function(e){return{getStatus:function(){e(R())},getRooms:function(){e((function(e){var t;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e({type:"GET_ROOMS_REQUEST"}),a.next=4,E.a.awrap(g.rooms.get({id:void 0}));case 4:if(200===(t=a.sent).status){a.next=7;break}throw new Error("Can not get Rooms");case 7:e({type:"GET_ROOMS_SUCCESS",payload:t.data}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),e({type:"GET_ROOMS_FAILURE"});case 13:case"end":return a.stop()}}),null,null,[[0,10]])}))},createRoom:function(t){e(function(e){return function(t){var a;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:"CREATE_ROOM_REQUEST"}),n.next=4,E.a.awrap(g.rooms.post(e));case 4:if(200===(a=n.sent).status){n.next=7;break}throw new Error("Can not create Room");case 7:t(O(a.data)),t(R()),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),t({type:"CREATE_ROOM_FAILURE"});case 14:case"end":return n.stop()}}),null,null,[[0,11]])}}(t))},removeRoom:function(t){e(function(e){return function(t){return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"REMOVE_ROOM_REQUEST"}),a.next=4,E.a.awrap(g.rooms.delete({uriParams:{id:e}}));case 4:if(200===a.sent.status){a.next=7;break}throw new Error("This item was already deleted");case 7:t({type:"REMOVE_ROOM_SUCCESS",payload:e}),t(R()),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t({type:"REMOVE_ROOM_FAILURE"});case 14:case"end":return a.stop()}}),null,null,[[0,11]])}}(t))},editRoom:function(t){e(function(e,t){return function(a){var n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"EDIT_ROOM_REQUEST"}),r.next=4,E.a.awrap(g.rooms.put(e,t));case 4:if(200===(n=r.sent).status){r.next=7;break}throw new Error("Can not create Room");case 7:a(h(n.data)),a(R()),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:"EDIT_ROOM_FAILURE"});case 14:case"end":return r.stop()}}),null,null,[[0,11]])}}(t))}}}))((function(e){var t=Object(n.useState)({initialState:G,editing:!1}),a=Object(u.a)(t,2),o=a[0],c=a[1],l=e.getStatus,s=e.getRooms,i=e.gettingStatus,m=e.gettingRooms,E=e.createRoom,d=e.removeRoom,f=e.editRoom;return Object(n.useEffect)((function(){s(),l()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"leftSide"},r.a.createElement(w,{status:e.status,gettingStatus:i}),r.a.createElement(C,{data:o,create:E,edit:f,cancelEdit:function(){c({initialState:G,editing:!1})}})),r.a.createElement("div",{className:"list"},m?r.a.createElement("img",{src:y.a,alt:"loading",style:{marginTop:"31vh"}}):r.a.createElement(B,{remove:d,update:function(e){c({initialState:e,editing:!0})},rooms:e.rooms})))})),Q=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:y.a,alt:"loading"}))},z={personName:"",roomNumber:0,roomId:"",personId:"",bookedAt:"",id:""},P=function(e){var t=e.create,a=Object(n.useState)(z),o=Object(u.a)(a,2),c=o[0],l=o[1],s=function(e){var t=e.target,a=t.name,n=t.value;l(Object(k.a)({},c,Object(_.a)({},a,n)))};return r.a.createElement("div",{className:"room-form"},r.a.createElement("h2",null,"Add New Room"),r.a.createElement("label",{htmlFor:"floor"},"Floor"),r.a.createElement("input",{type:"number",id:"floor",onChange:s,value:c.personName,name:"floor"}),r.a.createElement("label",{htmlFor:"beds"},"Beds"),r.a.createElement("input",{type:"number",id:"beds",onChange:s,value:c.roomNumber,name:"beds"}),r.a.createElement("label",{className:"checkbox-container"},"Balcony",r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{htmlFor:"roomId"},"Room Number"),r.a.createElement("input",{type:"number",id:"roomId",onChange:s,value:c.roomId,name:"roomId"}),r.a.createElement("button",{className:"create-b",onClick:function(){return function(e){var a=e.personName,n=e.roomNumber,r=e.roomId;a&&n&&r&&(t(Object(k.a)({},e,{bookedAt:(new Date).toLocaleDateString("en-GB")})),l(z))}(c)}},"Create"))},H=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"leftSide"},r.a.createElement(P,null)),r.a.createElement("div",{className:"list"}))},J=a(12);var Y=function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(i,null),r.a.createElement(J.c,null,r.a.createElement(J.a,{path:"/",exact:!0,component:D}),r.a.createElement(J.a,{path:"/rooms",component:D}),r.a.createElement(J.a,{path:"/visitors",component:Q}),r.a.createElement(J.a,{path:"/bookings",component:H}))))},q=a(11),K=a(40),W={gettingStatus:!1,status:{rooms:0,booking:0,visitors:0},gettingRooms:!1,rooms:[],bookings:[],visitors:[]};var X=Object(q.c)({rooms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STATUS_REQUEST":return Object(k.a)({},e,{gettingStatus:!0});case"GET_STATUS_SUCCESS":return Object(k.a)({},e,{gettingStatus:!1,status:t.payload});case"GET_STATUS_FAILURE":return Object(k.a)({},e,{gettingStatus:!1});case"GET_ROOMS_REQUEST":return Object(k.a)({},e,{gettingRooms:!0});case"GET_ROOMS_SUCCESS":return Object(k.a)({},e,{gettingRooms:!1,rooms:t.payload});case"GET_ROOMS_FAILURE":return Object(k.a)({},e,{gettingRooms:!1});case"CREATE_ROOM_REQUEST":return Object(k.a)({},e);case"CREATE_ROOM_SUCCESS":return Object(k.a)({},e,{rooms:[].concat(Object(K.a)(e.rooms),[t.payload])});case"CREATE_ROOM_FAILURE":case"REMOVE_ROOM_REQUEST":return Object(k.a)({},e);case"REMOVE_ROOM_SUCCESS":return Object(k.a)({},e,{rooms:e.rooms.filter((function(e){return e.id!==t.payload}))});case"REMOVE_ROOM_FAILURE":case"EDIT_ROOM_REQUEST":case"EDIT_ROOM_SUCCESS":case"EDIT_ROOM_FAILURE":return Object(k.a)({},e);default:return e}}}),Z=[a(39).a],$=Object(q.e)(X,Object(q.d)(q.a.apply(void 0,Z)));c.a.render(r.a.createElement(l.a,{store:$},r.a.createElement(Y,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.2498b6f9.chunk.js.map